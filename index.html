<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>My Shop</title>
<style>
body {
  font-family: 'Segoe UI', sans-serif;
  background: #f4f6f8;
  margin: 0;
  padding: 0;
}

/* Header */
header {
  position: fixed; top: 0; left: 0; right: 0;
  background: #007bff; color: #fff;
  display: flex; justify-content: space-between; align-items: center;
  padding: 10px 20px; z-index: 100;
  box-shadow: 0 3px 8px rgba(0,0,0,0.2);
}
header h1 { margin: 0; font-size: 24px; }
.cart-icon {
  position: relative; cursor: pointer; font-size: 24px;
}
.cart-count {
  position: absolute; top: -8px; right: -10px;
  background: #ff4d4f; color: #fff; border-radius: 50%;
  padding: 2px 6px; font-size: 12px; font-weight: bold;
}

main { padding: 80px 20px 20px 20px; }

/* Products Grid */
.products-container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 20px; margin-bottom: 40px;
}
.product-card {
  background: #fff; border-radius: 12px;
  box-shadow: 0 5px 15px rgba(0,0,0,0.1);
  padding: 15px; text-align: center;
  position: relative; overflow: hidden;
  transition: transform 0.3s, box-shadow 0.3s;
}
.product-card:hover { transform: translateY(-5px); box-shadow: 0 8px 20px rgba(0,0,0,0.2); }
.product-card img { width: 100%; border-radius: 8px; }
.product-card h3 { font-size: 18px; margin: 10px 0 5px; }
.product-card .price { font-weight: bold; color: #ff4d4f; margin-bottom: 10px; }
.product-card button {
  background: #007bff; color: #fff; border: none;
  padding: 8px 12px; border-radius: 8px;
  cursor: pointer; font-weight: bold;
  transition: background 0.3s;
}
.product-card button:hover { background: #0056b3; }

/* Checkout Modal */
.modal, .thankyou-modal {
  display: none;
  position: fixed; top: 0; left:0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.6);
  justify-content: center; align-items: center;
  z-index: 200;
}
.modal-content, .thankyou-content {
  background: #fff; border-radius: 12px;
  padding: 20px; width: 90%; max-width: 500px;
  position: relative;
}
.close-btn {
  position: absolute; top: 10px; right: 15px;
  cursor: pointer; font-size: 20px; font-weight: bold;
}
.cart-item {
  display: flex; justify-content: space-between; align-items: center;
  padding: 8px 0; border-bottom: 1px solid #eee;
}
.cart-item:last-child { border-bottom: none; }
.qty-controls { display: flex; gap: 5px; align-items: center; }
.qty-controls button { background: #007bff; color: #fff; border: none; width: 24px; height: 24px; border-radius: 4px; cursor: pointer; }
.remove-btn { background: #ff4d4f; border: none; color: #fff; padding: 4px 8px; border-radius: 6px; cursor: pointer; }
.checkout-total { text-align: right; font-weight: bold; margin-top: 10px; font-size: 18px; }
.checkout-btn {
  background: #28a745; color: #fff; border: none;
  padding: 10px 15px; border-radius: 8px; cursor: pointer;
  margin-top: 15px; font-weight: bold; width: 100%;
}
.checkout-btn:hover { background: #1e7e34; }

/* Thank You Modal */
.thankyou-content { text-align: center; }
.thankyou-content h2 { margin-bottom: 15px; }
.thankyou-content button {
  background: #007bff; color: #fff; border: none; padding: 10px 15px; border-radius: 8px;
  cursor: pointer; font-weight: bold;
}
.thankyou-content button:hover { background: #0056b3; }

/* Fly-to-cart animation */
.fly-img {
  position: absolute; width: 50px; height: 50px; border-radius: 8px;
  transition: transform 0.8s ease-in-out, opacity 0.8s ease-in-out;
  z-index: 1000;
}

@media(max-width:600px) { .products-container { grid-template-columns: 1fr; } }
</style>
</head>
<body>

<header>
  <h1>My Shop</h1>
  <div class="cart-icon" id="cart-icon" onclick="openModal()">ðŸ›’<span class="cart-count" id="cart-count">0</span></div>
</header>

<main>
  <div class="products-container" id="products"></div>
</main>

<!-- Checkout Modal -->
<div class="modal" id="checkout-modal">
  <div class="modal-content">
    <span class="close-btn" onclick="closeModal()">Ã—</span>
    <h2>Shopping Cart</h2>
    <div id="modal-cart-items"></div>
    <div class="checkout-total" id="modal-total"></div>
    <button class="checkout-btn" onclick="checkout()">Checkout</button>
  </div>
</div>

<!-- Thank You Modal -->
<div class="thankyou-modal" id="thankyou-modal">
  <div class="thankyou-content">
    <h2>Thank You for Your Purchase!</h2>
    <p>Your order has been placed successfully.</p>
    <button onclick="closeThankYou()">Close</button>
  </div>
</div>

<script>
const products = [
  { id: 1, name: 'Product 1', price: 499, image: 'https://via.placeholder.com/150/007bff/fff?text=1' },
  { id: 2, name: 'Product 2', price: 699, image: 'https://via.placeholder.com/150/28a745/fff?text=2' },
  { id: 3, name: 'Product 3', price: 299, image: 'https://via.placeholder.com/150/ffc107/fff?text=3' },
  { id: 4, name: 'Product 4', price: 999, image: 'https://via.placeholder.com/150/ff4d4f/fff?text=4' }
];
let cart = {};

function renderProducts() {
  const container = document.getElementById('products');
  container.innerHTML = '';
  products.forEach(product => {
    const div = document.createElement('div');
    div.className = 'product-card';
    div.innerHTML = `
      <img src="${product.image}" alt="${product.name}" id="img-${product.id}">
      <h3>${product.name}</h3>
      <div class="price">â‚¹${product.price}</div>
      <button onclick="addToCart(${product.id}, this)">Add to Cart</button>
    `;
    container.appendChild(div);
  });
}

function addToCart(productId, btn) {
  if(cart[productId]) cart[productId].qty +=1;
  else cart[productId] = {...products.find(p=>p.id===productId), qty:1};
  updateCartCount();
  flyToCart(productId);
}

function removeFromCart(productId) { delete cart[productId]; updateCartCount(); renderModalCart(); }
function changeQty(productId, delta) { if(cart[productId]) { cart[productId].qty += delta; if(cart[productId].qty<=0) removeFromCart(productId); else renderModalCart(); } }
function updateCartCount() { document.getElementById('cart-count').innerText = Object.values(cart).reduce((sum,item)=>sum+item.qty,0); }

function openModal() { document.getElementById('checkout-modal').style.display = 'flex'; renderModalCart(); }
function closeModal() { document.getElementById('checkout-modal').style.display = 'none'; }

function renderModalCart() {
  const container = document.getElementById('modal-cart-items'); container.innerHTML = '';
  const items = Object.values(cart);
  if(items.length===0) container.innerHTML='<p>Your cart is empty.</p>';
  let total=0;
  items.forEach(item=>{
    total+=item.price*item.qty;
    const div=document.createElement('div');
    div.className='cart-item';
    div.innerHTML=`
      <span>${item.name}</span>
      <div class="qty-controls">
        <button onclick="changeQty(${item.id},-1)">-</button>
        <span>${item.qty}</span>
        <button onclick="changeQty(${item.id},1)">+</button>
      </div>
      <span>â‚¹${item.price*item.qty}</span>
      <button class="remove-btn" onclick="removeFromCart(${item.id})">Ã—</button>
    `;
    container.appendChild(div);
  });
  document.getElementById('modal-total').innerText=`Total: â‚¹${total}`;
}

function checkout() { if(Object.keys(cart).length===0) return alert('Cart is empty!'); closeModal(); document.getElementById('thankyou-modal').style.display='flex'; cart={}; updateCartCount(); }
function closeThankYou() { document.getElementById('thankyou-modal').style.display='none'; }

function flyToCart(productId){
  const img = document.getElementById(`img-${productId}`);
  const clone = img.cloneNode(true);
  const rect = img.getBoundingClientRect();
  clone.style.position='absolute';
  clone.style.left=rect.left+'px';
  clone.style.top=rect.top+'px';
  clone.style.width=rect.width+'px';
  clone.style.height=rect.height+'px';
  clone.className='fly-img';
  document.body.appendChild(clone);
  
  const cartIcon = document.getElementById('cart-icon');
  const cartRect = cartIcon.getBoundingClientRect();
  
  requestAnimationFrame(()=>{
    clone.style.transform=`translate(${cartRect.left - rect.left}px, ${cartRect.top - rect.top}px) scale(0.2)`;
    clone.style.opacity='0';
  });
  
  setTimeout(()=>clone.remove(),800);
}

// Initial render
renderProducts();
updateCartCount();
</script>

</body>
</html>
